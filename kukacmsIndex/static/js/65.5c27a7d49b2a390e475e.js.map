{"version":3,"sources":["webpack:///./src/views/personAffairs/addPro.vue?78d3","webpack:///src/views/personAffairs/addPro.vue","webpack:///./src/views/personAffairs/addPro.vue?0c8f","webpack:///./src/views/personAffairs/addPro.vue","webpack:///./src/views/personAffairs/addPro.vue?58ca"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","addPro","data","lengthFlag","projectName","startTime","endTime","trjlzb","jobType","projectRole","projectProp","propCode","projectResult","minDate","Date","maxDate","currentDate","showTime","timeFlag","showType","columns1","created","_this","this","Object","api","then","res","obj","methods","update","_this2","es","confirm","title","message","sendData","jobnumber","localStorage","getItem","flag","split","join","type","getStr","code","$router","name","msg","catch","backHome","typeClick","confirm1","picker","content","startTimeClick","endTimeClick","val","formatDate","cancel","date","y","getFullYear","m","getMonth","d","getDate","showAlert7","$createDialog","icon","show","showAlert8","showAlert9","reset","str","replace","length","personAffairs_addPro","render","_vm","_h","$createElement","_c","_self","attrs","label","placeholder","model","value","callback","$$v","expression","_v","readonly","on","click","click-input","scopedSlots","_u","key","fn","size","color","proxy","autosize","staticClass","staticStyle","font-size","style","height","get-container","close-icon","position","min-date","max-date","round","show-toolbar","columns","value-key","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","locals"],"mappings":"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","file":"static/js/65.5c27a7d49b2a390e475e.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\nbody[data-v-07d3e770] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.btn[data-v-07d3e770] {\\n  padding: 10px;\\n  text-align: center;\\n}\\n.uploadbtn[data-v-07d3e770] {\\n  padding: 60px 10px 0 10px;\\n}\\n.uploadbtn .title[data-v-07d3e770] {\\n  padding: 15px;\\n  line-height: 20px;\\n  color: #f00;\\n}\\n.upload-demo[data-v-07d3e770] {\\n  text-align: center;\\n}\", \"\", {\"version\":3,\"sources\":[\"D:/员工自助/selfGive_mobile/src/views/personAffairs/addPro.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;CACb;AACD;EACE,mBAAmB;CACpB\",\"file\":\"addPro.vue\",\"sourcesContent\":[\"\\nbody[data-v-07d3e770] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.btn[data-v-07d3e770] {\\n  padding: 10px;\\n  text-align: center;\\n}\\n.uploadbtn[data-v-07d3e770] {\\n  padding: 60px 10px 0 10px;\\n}\\n.uploadbtn .title[data-v-07d3e770] {\\n  padding: 15px;\\n  line-height: 20px;\\n  color: #f00;\\n}\\n.upload-demo[data-v-07d3e770] {\\n  text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-07d3e770\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/addPro.vue\n// module id = e2ze\n// module chunks = 65","<template>\r\n    <div>\r\n        <div>\r\n            <van-field v-model=\"projectName\" label=\"项目名称：\" placeholder=\"必填\"/>\r\n            <van-field v-model=\"startTime\" label=\"进入项目时间：\" @click=\"startTimeClick\" readonly placeholder=\"必填\"/>\r\n            <van-field v-model=\"endTime\" label=\"退出项目时间：\" @click-input=\"endTimeClick\" readonly placeholder=\"选填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"reset\"><van-icon name=\"close\" color=\"#ccc\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"trjlzb\" label=\"投入精力占比：\" placeholder=\"必填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert7\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"jobType\" label=\"任职类型：\" placeholder=\"必填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert8\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"projectRole\" label=\"项目角色：\" placeholder=\"必填\"/>\r\n            <van-field v-model=\"projectProp\" label=\"项目性质：\" placeholder=\"必填\" @click=\"typeClick\" readonly/>\r\n            <van-field v-model=\"projectResult\" label=\"项目成果：\" placeholder=\"只能输入500个字符、250个字（选填）\" type=\"textarea\" autosize>\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert9\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <div class=\"btn\">\r\n                <van-button type=\"primary\" size=\"small\" color=\"#fc5f10\" @click=\"update\" style=\"font-size:16px\">确认添加</van-button>\r\n                <van-button type=\"primary\" size=\"small\" color=\"#fc5f10\" @click=\"backHome\" style=\"font-size:16px\">取消</van-button>\r\n            </div>\r\n        </div>\r\n        <!-- 弹出选择时间 -->\r\n        <van-popup\r\n        get-container=\"body\"\r\n        v-model=\"showTime\"\r\n        close-icon=\"close\"\r\n        position=\"bottom\"\r\n        :style=\"{ height: '50%' }\"\r\n        >\r\n            <van-datetime-picker\r\n            v-model=\"currentDate\"\r\n            type=\"date\"\r\n            :min-date=\"minDate\"\r\n            :max-date=\"maxDate\"\r\n            @confirm=\"confirm\"\r\n            @cancel=\"cancel\"\r\n            />\r\n        </van-popup>\r\n        <!-- 选择任职类型 -->\r\n        <van-popup v-model=\"showType\" round position=\"bottom\" get-container=\"body\">\r\n            <van-picker\r\n                show-toolbar\r\n                :columns=\"columns1\"\r\n                @cancel=\"showType = false\"\r\n                value-key=\"content\"\r\n                @confirm=\"confirm1\"\r\n            />\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Field,Button,DatetimePicker,Popup,Notify,Dialog } from 'vant'\r\nimport { getProType,updatePro } from './api'\r\nexport default {\r\n  data () {\r\n    return {\r\n        lengthFlag: true,\r\n        projectName: '', //项目名称\r\n        startTime: '',\r\n        endTime: '',\r\n        trjlzb: '', //投入精力占比\r\n        jobType: '', //任职类型\r\n        projectRole: '', //项目角色\r\n        projectProp: '', //项目性质\r\n        propCode: '', //传给后台项目性质值\r\n        projectResult: '', //项目成果\r\n        minDate: new Date(2010, 0, 1),\r\n        maxDate: new Date(2025, 10, 1),\r\n        currentDate: new Date(),\r\n        showTime: false,\r\n        timeFlag: '', //选择时间的标识\r\n        showType: false,\r\n        columns1: [],\r\n    };\r\n  },\r\n  created(){\r\n    //获取任职类型\r\n    getProType().then(res=>{\r\n        this.columns1 = res.obj\r\n    })\r\n  },\r\n  methods:{\r\n    //提交确认修改\r\n    update(){\r\n        Dialog.confirm({\r\n            title: '提示',\r\n            message: '确认提交修改？'\r\n            }).then(() => {\r\n            // on confirm\r\n            let sendData = {\r\n                projectName:this.projectName,\r\n                startTime:this.startTime,\r\n                endTime:this.endTime,\r\n                trjlzb:this.trjlzb,\r\n                jobType:this.jobType,\r\n                projectRole:this.projectRole,\r\n                projectProp:this.propCode,\r\n                projectResult:this.projectResult,\r\n                jobnumber: localStorage.getItem('jobNum'),\r\n                flag: 2,\r\n            }\r\n            if(this.endTime !== ''){\r\n                let strStart = this.startTime.split('-').join('')\r\n                let strEnd = this.endTime.split('-').join('')\r\n                if(strStart>strEnd){\r\n                    Notify({ type: 'warning', message: '开始时间不得大于结束时间！' })\r\n                    return\r\n                }\r\n            }\r\n            //判断项目成果字符长度\r\n            this.getStr(this.projectResult)\r\n            if(this.lengthFlag == false){\r\n                return\r\n            }\r\n            if(this.projectName == null || this.projectName == '' ||\r\n               this.trjlzb == null || this.trjlzb == '' ||\r\n               this.jobType == null || this.jobType == '' ||\r\n               this.projectRole == null || this.projectRole == '' ||\r\n               this.projectProp == null || this.projectProp == '' ||\r\n               this.startTime == null || this.startTime == '' ){\r\n                   Notify({ type: 'danger', message: '您有必填写未填写，请填写后提交！' })\r\n               }else{\r\n                   updatePro(sendData).then(res=>{\r\n                        if(res.code == 1000){\r\n                            Notify({ type: 'success', message: '已提交修改，进入待审核状态' })\r\n                            this.$router.push({name:'proExperience'})\r\n                        }else{\r\n                            Notify({ type: 'danger', message: res.msg })\r\n                        }\r\n                    })\r\n               }\r\n            }).catch(() => {\r\n            // on cancel\r\n            Notify({ type: 'danger', message: '已取消修改' })\r\n        })\r\n    },\r\n    //取消\r\n    backHome(){\r\n        this.$router.push({name:'proExperience'})\r\n    },\r\n    //打开任职类型\r\n    typeClick(){\r\n        this.showType = true\r\n    },\r\n    //确认选择\r\n    confirm1(picker){\r\n        this.propCode = picker.code\r\n        this.projectProp = picker.content\r\n        this.showType = false\r\n    },\r\n    //打开时间选择器\r\n    startTimeClick(){\r\n        this.timeFlag = 0\r\n        this.showTime = true\r\n    },\r\n    endTimeClick(){\r\n        this.timeFlag = 1\r\n        this.showTime = true\r\n    },\r\n    //确认选中时间\r\n    confirm(val){\r\n        if(this.timeFlag == 1){\r\n            this.endTime = this.formatDate(val)\r\n            let strStart = this.startTime.split('-').join('')\r\n            let strEnd = this.endTime.split('-').join('')\r\n            if(strStart>strEnd){\r\n                Notify({ type: 'warning', message: '开始时间不得大于结束时间！' })\r\n            // this.endTime = ''\r\n            }\r\n        }else{\r\n            this.startTime = this.formatDate(val)\r\n        }\r\n        this.showTime = false\r\n    },\r\n    //取消选择\r\n    cancel(){\r\n        this.showTime = false\r\n    },\r\n     //转换时间戳\r\n    formatDate(date) {    \r\n        var y = date.getFullYear();    \r\n        var m = date.getMonth() + 1;    m = m < 10 ? '0' + m : m;    \r\n        var d = date.getDate();    d = d < 10 ? ('0' + d) : d;       \r\n        return y + '-' + m + '-' + d \r\n    },\r\n    showAlert7() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '如60%，根据自身精力投入情况选择百分数',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n    showAlert8() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '选兼职或全职，二选一',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n    showAlert9() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '填写定量化的项目目标达成情况',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n    //清空退出项目时间\r\n    reset(){\r\n        this.endTime = ''\r\n    },\r\n    //字符串长度检测\r\n    getStr(str){\r\n        if (str == null) return 0;\r\n        if (typeof str != \"string\"){\r\n            str += \"\";\r\n        }\r\n        if(str.replace(/[^\\x00-\\xff]/g,\"01\").length > 500){\r\n            Notify({ type: 'warning', message: '项目成果不得大于500个字符！' })\r\n            return this.lengthFlag = false\r\n        }else{\r\n            return this.lengthFlag = true\r\n        }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n    .btn{\r\n        padding 10px\r\n        text-align center \r\n    }\r\n    .uploadbtn{\r\n        padding 60px 10px 0 10px\r\n        .title{\r\n            padding 15px\r\n            line-height 20px\r\n            color red\r\n        }\r\n    }\r\n    .upload-demo{\r\n        text-align center\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/personAffairs/addPro.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('van-field',{attrs:{\"label\":\"项目名称：\",\"placeholder\":\"必填\"},model:{value:(_vm.projectName),callback:function ($$v) {_vm.projectName=$$v},expression:\"projectName\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"进入项目时间：\",\"readonly\":\"\",\"placeholder\":\"必填\"},on:{\"click\":_vm.startTimeClick},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"退出项目时间：\",\"readonly\":\"\",\"placeholder\":\"选填\"},on:{\"click-input\":_vm.endTimeClick},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_c('van-icon',{attrs:{\"name\":\"close\",\"color\":\"#ccc\"}})],1)]},proxy:true}]),model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"投入精力占比：\",\"placeholder\":\"必填\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert7}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.trjlzb),callback:function ($$v) {_vm.trjlzb=$$v},expression:\"trjlzb\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"任职类型：\",\"placeholder\":\"必填\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert8}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.jobType),callback:function ($$v) {_vm.jobType=$$v},expression:\"jobType\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目角色：\",\"placeholder\":\"必填\"},model:{value:(_vm.projectRole),callback:function ($$v) {_vm.projectRole=$$v},expression:\"projectRole\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目性质：\",\"placeholder\":\"必填\",\"readonly\":\"\"},on:{\"click\":_vm.typeClick},model:{value:(_vm.projectProp),callback:function ($$v) {_vm.projectProp=$$v},expression:\"projectProp\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目成果：\",\"placeholder\":\"只能输入500个字符、250个字（选填）\",\"type\":\"textarea\",\"autosize\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert9}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.projectResult),callback:function ($$v) {_vm.projectResult=$$v},expression:\"projectResult\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('van-button',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"color\":\"#fc5f10\"},on:{\"click\":_vm.update}},[_vm._v(\"确认添加\")]),_vm._v(\" \"),_c('van-button',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"color\":\"#fc5f10\"},on:{\"click\":_vm.backHome}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('van-popup',{style:({ height: '50%' }),attrs:{\"get-container\":\"body\",\"close-icon\":\"close\",\"position\":\"bottom\"},model:{value:(_vm.showTime),callback:function ($$v) {_vm.showTime=$$v},expression:\"showTime\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\",\"get-container\":\"body\"},model:{value:(_vm.showType),callback:function ($$v) {_vm.showType=$$v},expression:\"showType\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns1,\"value-key\":\"content\"},on:{\"cancel\":function($event){_vm.showType = false},\"confirm\":_vm.confirm1}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07d3e770\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/personAffairs/addPro.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07d3e770\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addPro.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addPro.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addPro.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07d3e770\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addPro.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-07d3e770\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personAffairs/addPro.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07d3e770\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./addPro.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"a171572e\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-07d3e770\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/addPro.vue"],"sourceRoot":""}
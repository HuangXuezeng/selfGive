webpackJsonp([37],{A0dr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=o("bOdI"),i=o.n(n),s=o("Fd2+"),l=o("6s/a"),c={data:function(){return{showPhoto:!1,images:[],xlFileName:"",xwFileName:"",fileList:[],uploadData:{jobnumber:"",state:"",type:"",id:""},saveId:"",xuliPath:"",xuweiPath:"",showImg:!1,a86014:"",xingzhi:"",A86005:"",A86006:"",a86007:"",a86008:"",a86009:"",studyStyle:"",a86010:"",xueli:"",a86011:"",xuewei:"",a86012:"",sure:"",a86013:"",minDate:new Date(2010,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,showTime:!1,timeFlag:"",showXingzhi:!1,showstyle:!1,showXueli:!1,showXuewei:!1,showSure:!1,columns1:[{keyId:"01",text:"985院校"},{keyId:"02",text:"211院校"},{keyId:"03",text:"普通院校"}],columns2:[{keyId:"1",text:"全日制院校"},{keyId:"2",text:"夜大学"},{keyId:"3",text:"函授"},{keyId:"4",text:"研修班"},{keyId:"9",text:"其他"}],columns3:[{keyId:"01",text:"小学"},{keyId:"02",text:"初中"},{keyId:"03",text:"高中"},{keyId:"04",text:"中技（中专/技校/职高）"},{keyId:"05",text:"大专"},{keyId:"06",text:"本科"},{keyId:"07",text:"硕士研究生"},{keyId:"08",text:"MBA"},{keyId:"09",text:"博士研究生"}],columns4:[{keyId:"01",text:"博士"},{keyId:"02",text:"硕士"},{keyId:"03",text:"MBA"},{keyId:"04",text:"双学士"},{keyId:"05",text:"学士"},{keyId:"06",text:"其他"}],columns5:[{keyId:"1",text:"是"},{keyId:"2",text:"否"}]}},created:function(){},methods:(a={update:function(){var e=this;s.a.confirm({title:"提示",message:"确认提交修改？"}).then(function(){var t={a86014:e.xingzhi,A86005:e.A86005,A86006:e.A86006,a86007:e.a86007,a86008:e.a86008,a86009:e.studyStyle,a86010:e.xueli,a86011:e.xuewei,a86012:e.sure,a86013:e.a86013,a0190:localStorage.getItem("jobNum"),flag:2,xlFile:e.xuliPath,xwFile:e.xuweiPath,id:e.saveId};if(e.A86005.split("-").join("")>e.A86006.split("-").join(""))Object(s.b)({type:"warning",message:"开始时间不得大于结束时间！"});else if(""!=e.a86014&&""!=e.A86005&&""!=e.A86006&&""!=e.a86007&&""!=e.a86008&&""!=e.a86009&&""!=e.a86010&&""!=e.a86013&&""!=e.a86011&&""!=e.a86012)if("大专"!=e.a86010||""!=e.xuliPath)if("本科"==e.a86010||"硕士研究生"==e.a86010||"MBA"==e.a86010||"博士研究生"==e.a86010){if(""==e.xuliPath||""==e.xuweiPath)return void Object(s.b)({type:"danger",message:"请上传学历、学位证后提交！"});Object(l.V)(t).then(function(t){1e3==t.code?(Object(s.b)({type:"success",message:"已提交添加，进入待审核状态"}),e.$router.push({name:"education"})):Object(s.b)({type:"danger",message:"添加失败"})})}else Object(l.V)(t).then(function(t){1e3==t.code?(Object(s.b)({type:"success",message:"已提交添加，进入待审核状态"}),e.$router.push({name:"education"})):Object(s.b)({type:"danger",message:"添加失败"})});else Object(s.b)({type:"danger",message:"请上传学历证后提交！"});else Object(s.b)({type:"danger",message:"您有必填写未填写，请填写后提交！"})}).catch(function(){Object(s.b)({type:"danger",message:"已取消添加"})})},back:function(){var e=this;s.a.confirm({title:"提示",message:"确定撤回添加吗？"}).then(function(){var t={recordid:e.$route.params.eduData.recordid,flag:2};Object(l.b)(t).then(function(e){1e3==e.code?Object(s.b)({type:"success",message:"撤回成功"}):Object(s.b)({type:"danger",message:"撤回失败"})})}).catch(function(){Object(s.b)({type:"danger",message:"取消撤回"})})},backHome:function(){this.$router.push({name:"education"})},confirm1:function(e){console.log(e),this.xingzhi=e.keyId,this.a86014=e.text,this.showXingzhi=!1},confirm2:function(e){console.log(e),this.studyStyle=e.keyId,this.a86009=e.text,this.showstyle=!1},confirm3:function(e){console.log(e),this.xueli=e.keyId,this.a86010=e.text,this.showXueli=!1},confirm4:function(e){console.log(e),this.xuewei=e.keyId,this.a86011=e.text,this.showXuewei=!1},confirm5:function(e){console.log(e),this.sure=e.keyId,this.a86012=e.text,this.showSure=!1},startTimeClick:function(){this.timeFlag=0,this.showTime=!0},endTimeClick:function(){this.timeFlag=1,this.showTime=!0},confirm:function(e){1==this.timeFlag?(this.A86006=this.formatDate(e),this.A86005.split("-").join("")>this.A86006.split("-").join("")&&Object(s.b)({type:"warning",message:"开始时间不得大于结束时间！"})):this.A86005=this.formatDate(e);this.showTime=!1},cancel:function(){this.showTime=!1},formatDate:function(e){var t=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0"+o:o;var a=e.getDate();return t+"-"+o+"-"+(a=a<10?"0"+a:a)},showAlert8:function(){this.$createDialog({type:"alert",title:"提示",content:"请填写毕业证书上的时间。",icon:"cubeic-alert"}).show()},showAlert9:function(){this.$createDialog({type:"alert",title:"提示",content:"若存在多条学历信息，请将其中最高的一条学历选择”是”，其余的选择”否”。",icon:"cubeic-alert"}).show()},showAlert10:function(){this.$createDialog({type:"alert",title:"提示",content:"请填写毕业证书上的编号，如没有请填‘无’",icon:"cubeic-alert"}).show()},showAlert11:function(){this.$createDialog({type:"alert",title:"提示",content:"如没有请填‘无’",icon:"cubeic-alert"}).show()},showAlert12:function(){this.$createDialog({type:"alert",title:"提示",content:"如没有请选择‘其他’",icon:"cubeic-alert"}).show()},dialogOpen:function(){this.showImg=!0},handleRemove:function(e){var t=this,o={filePath:e.response.obj.xlPath};Object(l.k)(o).then(function(e){1e3==e.code?(t.xlFileName="",t.xuliPath=""):Object(s.b)({type:"danger",message:e.msg})})},handlePreview1:function(e){console.log(e)},handSuccess:function(e){1001==e.code&&Object(s.b)({type:"warning",message:e.msg}),console.log(e),this.saveId=e.obj.id,this.xuliPath=e.obj.xlPath,this.xlFileName=e.obj.xlPathName},uploadXueli:function(){this.uploadData.id=this.saveId,this.uploadData.state=2,this.uploadData.type=1,this.uploadData.jobnumber=localStorage.getItem("jobNum")},handleRemove1:function(e){var t=this,o={filePath:e.response.obj.xwPath};Object(l.k)(o).then(function(e){1e3==e.code?(t.xwFileName="",t.xuweiPath=""):Object(s.b)({type:"danger",message:e.msg})})}},i()(a,"handlePreview1",function(e){console.log(e)}),i()(a,"handSuccess1",function(e){1001==e.code&&Object(s.b)({type:"warning",message:e.msg}),console.log(e),this.saveId=e.obj.id,this.xuweiPath=e.obj.xwPath,this.xwFileName=e.obj.xwPathName}),i()(a,"uploadXuewei",function(){this.uploadData.id=this.saveId,this.uploadData.state=2,this.uploadData.type=2,this.uploadData.jobnumber=localStorage.getItem("jobNum")}),i()(a,"seePdf",function(){null==this.xuliPath||""==this.xuliPath?Object(s.b)({type:"danger",message:"没有附件可查看哦~"}):-1==this.xuliPath.indexOf("pdf")?(this.showPhoto=!0,this.images.push(this.xuliPath)):window.open(this.xuliPath)}),i()(a,"seePdf1",function(){null==this.xuweiPath||""==this.xuweiPath?Object(s.b)({type:"danger",message:"没有附件可查看哦~"}):-1==this.xuweiPath.indexOf("pdf")?(this.showPhoto=!0,this.images.push(this.xuweiPath)):window.open(this.xuweiPath)}),i()(a,"onClose",function(){this.images=[]}),a)},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("van-field",{attrs:{label:"院校性质：",readonly:"",placeholder:"必填"},on:{click:function(t){e.showXingzhi=!0}},model:{value:e.a86014,callback:function(t){e.a86014=t},expression:"a86014"}}),e._v(" "),o("van-field",{attrs:{label:"入学时间：",placeholder:"必填",readonly:""},on:{"click-input":e.startTimeClick},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert8}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.A86005,callback:function(t){e.A86005=t},expression:"A86005"}}),e._v(" "),o("van-field",{attrs:{label:"毕业时间：",placeholder:"必填",readonly:""},on:{"click-input":e.endTimeClick},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert8}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.A86006,callback:function(t){e.A86006=t},expression:"A86006"}}),e._v(" "),o("van-field",{attrs:{label:"学校名称：",placeholder:"必填"},model:{value:e.a86007,callback:function(t){e.a86007=t},expression:"a86007"}}),e._v(" "),o("van-field",{attrs:{label:"专业：",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert11}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.a86008,callback:function(t){e.a86008=t},expression:"a86008"}}),e._v(" "),o("van-field",{attrs:{label:"学习方式：",placeholder:"必填",readonly:""},on:{click:function(t){e.showstyle=!0}},model:{value:e.a86009,callback:function(t){e.a86009=t},expression:"a86009"}}),e._v(" "),o("van-field",{attrs:{label:"学历：",placeholder:"必填",readonly:""},on:{click:function(t){e.showXueli=!0}},model:{value:e.a86010,callback:function(t){e.a86010=t},expression:"a86010"}}),e._v(" "),o("van-field",{attrs:{label:"学位：",placeholder:"必填",readonly:""},on:{"click-input":function(t){e.showXuewei=!0}},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert12}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.a86011,callback:function(t){e.a86011=t},expression:"a86011"}}),e._v(" "),o("van-field",{attrs:{label:"是否最高学历：",placeholder:"必填",readonly:"","label-width":"8em"},on:{"click-input":function(t){e.showSure=!0}},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert9}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.a86012,callback:function(t){e.a86012=t},expression:"a86012"}}),e._v(" "),o("van-field",{attrs:{label:"学历编号：",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[o("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert10}},[o("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.a86013,callback:function(t){e.a86013=t},expression:"a86013"}}),e._v(" "),o("p",{staticStyle:{padding:"10px 10px 10px 16px",color:"#323233","border-bottom":"1px solid #eee","font-size":"14px"}},[e._v("\n            请上传学历证/学位证:\n            "),o("span",[o("van-button",{staticStyle:{"font-size":"12px",padding:"2px"},attrs:{type:"primary",color:"#ccc",size:"mini"},on:{click:e.dialogOpen}},[e._v("上传")])],1)]),e._v(" "),o("p",{staticStyle:{padding:"10px 10px 10px 16px",color:"#323233","border-bottom":"1px solid #eee","font-size":"14px","line-height":"25px"}},[o("span",{on:{click:e.seePdf}},[e._v("学历证："),o("span",{staticStyle:{"border-bottom":"1px solid #ccc",padding:"2px"}},[e._v(e._s(e.xlFileName))])])]),e._v(" "),o("p",{staticStyle:{padding:"10px 10px 10px 16px",color:"#323233","border-bottom":"1px solid #eee","font-size":"14px","line-height":"25px"}},[o("span",{on:{click:e.seePdf1}},[e._v("学位证："),o("span",{staticStyle:{"border-bottom":"1px solid #ccc",padding:"2px"}},[e._v(e._s(e.xwFileName))])])]),e._v(" "),o("div",{staticClass:"btn"},[o("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.update}},[e._v("确认添加")]),e._v(" "),o("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.backHome}},[e._v("取消")])],1)],1),e._v(" "),o("van-popup",{style:{height:"50%"},attrs:{"get-container":"body","close-icon":"close",position:"bottom"},model:{value:e.showTime,callback:function(t){e.showTime=t},expression:"showTime"}},[o("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),o("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showXingzhi,callback:function(t){e.showXingzhi=t},expression:"showXingzhi"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.columns1,"value-key":"text"},on:{cancel:function(t){e.showXingzhi=!1},confirm:e.confirm1}})],1),e._v(" "),o("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showstyle,callback:function(t){e.showstyle=t},expression:"showstyle"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.columns2,"value-key":"text"},on:{cancel:function(t){e.showstyle=!1},confirm:e.confirm2}})],1),e._v(" "),o("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showXueli,callback:function(t){e.showXueli=t},expression:"showXueli"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.columns3,"value-key":"text"},on:{cancel:function(t){e.showXueli=!1},confirm:e.confirm3}})],1),e._v(" "),o("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showXuewei,callback:function(t){e.showXuewei=t},expression:"showXuewei"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.columns4,"value-key":"text"},on:{cancel:function(t){e.showXuewei=!1},confirm:e.confirm4}})],1),e._v(" "),o("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showSure,callback:function(t){e.showSure=t},expression:"showSure"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.columns5,"value-key":"text"},on:{cancel:function(t){e.showSure=!1},confirm:e.confirm5}})],1),e._v(" "),o("van-popup",{style:{height:"50%"},attrs:{"get-container":"body",closeable:"","close-icon":"close",position:"bottom"},model:{value:e.showImg,callback:function(t){e.showImg=t},expression:"showImg"}},[o("div",{staticClass:"uploadbtn"},[o("div",{staticClass:"title"},[e._v("（请上传学历证、学位证，上传内容需为图片或PDF格式）")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{action:"/kukacms/self/uploadQualificationsFiles",data:e.uploadData,"on-preview":e.handlePreview1,"on-remove":e.handleRemove,"on-success":e.handSuccess,multiple:"",limit:10,"file-list":e.fileList}},[o("el-button",{staticStyle:{background:"#fc5f10",border:"1px #fc5f10"},attrs:{size:"small",type:"primary"},on:{click:e.uploadXueli}},[e._v("上传学历证")])],1),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{action:"/kukacms/self/uploadQualificationsFiles",data:e.uploadData,"on-preview":e.handlePreview1,"on-remove":e.handleRemove1,"on-success":e.handSuccess1,multiple:"",limit:10,"file-list":e.fileList}},[o("el-button",{staticStyle:{background:"#fc5f10",border:"1px #fc5f10"},attrs:{size:"small",type:"primary"},on:{click:e.uploadXuewei}},[e._v("上传学位证")])],1)],1)]),e._v(" "),o("van-image-preview",{attrs:{"get-container":"body",images:e.images,closeable:!0},on:{close:e.onClose},model:{value:e.showPhoto,callback:function(t){e.showPhoto=t},expression:"showPhoto"}})],1)},staticRenderFns:[]};var u=o("VU/8")(c,r,!1,function(e){o("HDzt")},"data-v-5a2cc973",null);t.default=u.exports},HDzt:function(e,t,o){var a=o("KrBt");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o("rjj0")("6431c6f7",a,!0,{})},KrBt:function(e,t,o){(e.exports=o("FZ+f")(!0)).push([e.i,"\nbody[data-v-5a2cc973] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-5a2cc973] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-5a2cc973] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-5a2cc973] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-5a2cc973] {\n  line-height: 50px;\n  text-align: center;\n}","",{version:3,sources:["D:/员工自助/selfGive_mobile/src/views/personAffairs/addEdu.vue"],names:[],mappings:";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;CACb;AACD;EACE,kBAAkB;EAClB,mBAAmB;CACpB",file:"addEdu.vue",sourcesContent:["\nbody[data-v-5a2cc973] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-5a2cc973] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-5a2cc973] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-5a2cc973] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-5a2cc973] {\n  line-height: 50px;\n  text-align: center;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=37.735162e2465beb0ea446.js.map
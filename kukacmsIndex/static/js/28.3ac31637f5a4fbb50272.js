webpackJsonp([28],{"7ybG":function(e,a,t){var n=t("xBV+");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("714cc9d4",n,!0,{})},fEGx:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Fd2+"),s=t("6s/a"),o={data:function(){return{a805005:"",a805006:"",a805007:"",a805008:"",a805009:"",a805010:"",a805012:"",sure:"",a805011:"",minDate:new Date(2010,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,showTime:!1,showSure:!1,timeFlag:"",columns5:[{keyId:"1",text:"是"},{keyId:"2",text:"否"}]}},created:function(){this.initData()},methods:{update:function(){var e=this;n.a.confirm({title:"提示",message:"确认提交修改？"}).then(function(){""==e.sure&&(e.sure=e.a805012);var a={a805005:e.a805005,a805006:e.a805006,a805007:e.a805007,a805008:e.a805008,a805009:e.a805009,a805010:e.a805010,a805012:e.sure,a805011:e.a805011,a0190:localStorage.getItem("jobNum"),recordid:e.$route.params.relData.recordid,a0188:e.$route.params.relData.a0188,flag:1};null==e.a805005||""==e.a805005||null==e.a805006||""==e.a805006||null==e.a805007||""==e.a805007||null==e.a805008||""==e.a805008||null==e.a805009||""==e.a805009||null==e.a805010||""==e.a805010||null==e.a805012||""==e.a805012?Object(n.b)({type:"danger",message:"您有必填写未填写，请填写后提交！"}):Object(s._1)(a).then(function(a){1e3==a.code?(Object(n.b)({type:"success",message:"已提交修改，进入待审核状态"}),e.$router.push({name:"relatives"})):Object(n.b)({type:"danger",message:a.msg})})}).catch(function(){Object(n.b)({type:"danger",message:"已取消修改"})})},back:function(){var e=this;n.a.confirm({title:"提示",message:"确定撤回修改吗？"}).then(function(){var a={recordid:e.$route.params.relData.recordid,flag:1};Object(s.h)(a).then(function(a){1e3==a.code?(Object(n.b)({type:"success",message:"撤回成功"}),e.$router.push({name:"relatives"})):Object(n.b)({type:"danger",message:"当前无提交的修改项，不可点击“撤回修改”"})})}).catch(function(){Object(n.b)({type:"danger",message:"取消撤回"})})},backHome:function(){this.$router.push({name:"relatives"})},confirm5:function(e){console.log(e),this.sure=e.keyId,this.a805012=e.text,this.showSure=!1},initData:function(){var e=this.$route.params.relData;this.a805005=e.a805005,this.a805006=e.a805006,this.a805007=e.a805007,this.a805008=e.a805008,this.a805009=e.a805009,this.a805010=e.a805010,this.a805012=e.a805012,this.a805011=e.a805011},startTimeClick:function(){this.timeFlag=0,this.showTime=!0},endTimeClick:function(){this.timeFlag=1,this.showTime=!0},confirm:function(e){1==this.timeFlag?this.A86006=this.formatDate(e):this.A86005=this.formatDate(e),this.showTime=!1},cancel:function(){this.showTime=!1},formatDate:function(e){var a=e.getFullYear(),t=e.getMonth()+1;t=t<10?"0"+t:t;var n=e.getDate();return a+"-"+t+"-"+(n=n<10?"0"+n:n)},showAlert11:function(){this.$createDialog({type:"alert",title:"提示",content:"公司内亲属关系指三代以内的亲属关系。",icon:"cubeic-alert"}).show()}}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",[t("van-field",{attrs:{label:"关系：",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[t("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert11}},[t("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.a805005,callback:function(a){e.a805005=a},expression:"a805005"}}),e._v(" "),t("van-field",{attrs:{label:"关系人姓名：",placeholder:"必填"},model:{value:e.a805006,callback:function(a){e.a805006=a},expression:"a805006"}}),e._v(" "),t("van-field",{attrs:{label:"关系人工号：",placeholder:"必填"},model:{value:e.a805007,callback:function(a){e.a805007=a},expression:"a805007"}}),e._v(" "),t("van-field",{attrs:{label:"关系人所在部门：","label-width":"8em",placeholder:"必填"},model:{value:e.a805008,callback:function(a){e.a805008=a},expression:"a805008"}}),e._v(" "),t("van-field",{attrs:{label:"关系人岗位：",placeholder:"必填"},model:{value:e.a805009,callback:function(a){e.a805009=a},expression:"a805009"}}),e._v(" "),t("van-field",{attrs:{label:"关系人电话：",placeholder:"必填"},model:{value:e.a805010,callback:function(a){e.a805010=a},expression:"a805010"}}),e._v(" "),t("van-field",{attrs:{label:"是否在职：",readonly:"",placeholder:"必填"},on:{click:function(a){e.showSure=!0}},model:{value:e.a805012,callback:function(a){e.a805012=a},expression:"a805012"}}),e._v(" "),t("van-field",{attrs:{label:"备注：",placeholder:"选填"},model:{value:e.a805011,callback:function(a){e.a805011=a},expression:"a805011"}}),e._v(" "),t("div",{staticClass:"btn"},[t("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.update}},[e._v("确认修改")]),e._v(" "),t("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.backHome}},[e._v("取消")])],1)],1),e._v(" "),t("van-popup",{style:{height:"50%"},attrs:{"get-container":"body","close-icon":"close",position:"bottom"},model:{value:e.showTime,callback:function(a){e.showTime=a},expression:"showTime"}},[t("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(a){e.currentDate=a},expression:"currentDate"}})],1),e._v(" "),t("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showSure,callback:function(a){e.showSure=a},expression:"showSure"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.columns5,"value-key":"text"},on:{cancel:function(a){e.showSure=!1},confirm:e.confirm5}})],1)],1)},staticRenderFns:[]};var i=t("VU/8")(o,l,!1,function(e){t("7ybG")},"data-v-69d2d3fd",null);a.default=i.exports},"xBV+":function(e,a,t){(e.exports=t("FZ+f")(!0)).push([e.i,"\nbody[data-v-69d2d3fd] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-69d2d3fd] {\n  padding: 10px;\n  text-align: center;\n}","",{version:3,sources:["D:/员工自助/selfGive_mobile/src/views/personAffairs/updateRelatives.vue"],names:[],mappings:";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB",file:"updateRelatives.vue",sourcesContent:["\nbody[data-v-69d2d3fd] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-69d2d3fd] {\n  padding: 10px;\n  text-align: center;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=28.3ac31637f5a4fbb50272.js.map
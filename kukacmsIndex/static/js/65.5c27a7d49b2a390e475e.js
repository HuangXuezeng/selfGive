webpackJsonp([65],{e2ze:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\nbody[data-v-07d3e770] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-07d3e770] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-07d3e770] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-07d3e770] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-07d3e770] {\n  text-align: center;\n}","",{version:3,sources:["D:/员工自助/selfGive_mobile/src/views/personAffairs/addPro.vue"],names:[],mappings:";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;CACb;AACD;EACE,mBAAmB;CACpB",file:"addPro.vue",sourcesContent:["\nbody[data-v-07d3e770] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-07d3e770] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-07d3e770] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-07d3e770] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-07d3e770] {\n  text-align: center;\n}"],sourceRoot:""}])},joFB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("Fd2+"),a=n("6s/a"),l={data:function(){return{lengthFlag:!0,projectName:"",startTime:"",endTime:"",trjlzb:"",jobType:"",projectRole:"",projectProp:"",propCode:"",projectResult:"",minDate:new Date(2010,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,showTime:!1,timeFlag:"",showType:!1,columns1:[]}},created:function(){var e=this;Object(a.u)().then(function(t){e.columns1=t.obj})},methods:{update:function(){var e=this;o.a.confirm({title:"提示",message:"确认提交修改？"}).then(function(){var t={projectName:e.projectName,startTime:e.startTime,endTime:e.endTime,trjlzb:e.trjlzb,jobType:e.jobType,projectRole:e.projectRole,projectProp:e.propCode,projectResult:e.projectResult,jobnumber:localStorage.getItem("jobNum"),flag:2};if(""!==e.endTime&&e.startTime.split("-").join("")>e.endTime.split("-").join(""))return void Object(o.b)({type:"warning",message:"开始时间不得大于结束时间！"});e.getStr(e.projectResult),0!=e.lengthFlag&&(null==e.projectName||""==e.projectName||null==e.trjlzb||""==e.trjlzb||null==e.jobType||""==e.jobType||null==e.projectRole||""==e.projectRole||null==e.projectProp||""==e.projectProp||null==e.startTime||""==e.startTime?Object(o.b)({type:"danger",message:"您有必填写未填写，请填写后提交！"}):Object(a._0)(t).then(function(t){1e3==t.code?(Object(o.b)({type:"success",message:"已提交修改，进入待审核状态"}),e.$router.push({name:"proExperience"})):Object(o.b)({type:"danger",message:t.msg})}))}).catch(function(){Object(o.b)({type:"danger",message:"已取消修改"})})},backHome:function(){this.$router.push({name:"proExperience"})},typeClick:function(){this.showType=!0},confirm1:function(e){this.propCode=e.code,this.projectProp=e.content,this.showType=!1},startTimeClick:function(){this.timeFlag=0,this.showTime=!0},endTimeClick:function(){this.timeFlag=1,this.showTime=!0},confirm:function(e){1==this.timeFlag?(this.endTime=this.formatDate(e),this.startTime.split("-").join("")>this.endTime.split("-").join("")&&Object(o.b)({type:"warning",message:"开始时间不得大于结束时间！"})):this.startTime=this.formatDate(e);this.showTime=!1},cancel:function(){this.showTime=!1},formatDate:function(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var o=e.getDate();return t+"-"+n+"-"+(o=o<10?"0"+o:o)},showAlert7:function(){this.$createDialog({type:"alert",title:"提示",content:"如60%，根据自身精力投入情况选择百分数",icon:"cubeic-alert"}).show()},showAlert8:function(){this.$createDialog({type:"alert",title:"提示",content:"选兼职或全职，二选一",icon:"cubeic-alert"}).show()},showAlert9:function(){this.$createDialog({type:"alert",title:"提示",content:"填写定量化的项目目标达成情况",icon:"cubeic-alert"}).show()},reset:function(){this.endTime=""},getStr:function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length>500?(Object(o.b)({type:"warning",message:"项目成果不得大于500个字符！"}),this.lengthFlag=!1):this.lengthFlag=!0)}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("van-field",{attrs:{label:"项目名称：",placeholder:"必填"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}}),e._v(" "),n("van-field",{attrs:{label:"进入项目时间：",readonly:"",placeholder:"必填"},on:{click:e.startTimeClick},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),n("van-field",{attrs:{label:"退出项目时间：",readonly:"",placeholder:"选填"},on:{"click-input":e.endTimeClick},scopedSlots:e._u([{key:"button",fn:function(){return[n("i",{attrs:{size:"small",type:"primary"},on:{click:e.reset}},[n("van-icon",{attrs:{name:"close",color:"#ccc"}})],1)]},proxy:!0}]),model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),n("van-field",{attrs:{label:"投入精力占比：",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[n("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert7}},[n("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.trjlzb,callback:function(t){e.trjlzb=t},expression:"trjlzb"}}),e._v(" "),n("van-field",{attrs:{label:"任职类型：",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[n("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert8}},[n("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.jobType,callback:function(t){e.jobType=t},expression:"jobType"}}),e._v(" "),n("van-field",{attrs:{label:"项目角色：",placeholder:"必填"},model:{value:e.projectRole,callback:function(t){e.projectRole=t},expression:"projectRole"}}),e._v(" "),n("van-field",{attrs:{label:"项目性质：",placeholder:"必填",readonly:""},on:{click:e.typeClick},model:{value:e.projectProp,callback:function(t){e.projectProp=t},expression:"projectProp"}}),e._v(" "),n("van-field",{attrs:{label:"项目成果：",placeholder:"只能输入500个字符、250个字（选填）",type:"textarea",autosize:""},scopedSlots:e._u([{key:"button",fn:function(){return[n("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert9}},[n("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.projectResult,callback:function(t){e.projectResult=t},expression:"projectResult"}}),e._v(" "),n("div",{staticClass:"btn"},[n("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.update}},[e._v("确认添加")]),e._v(" "),n("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.backHome}},[e._v("取消")])],1)],1),e._v(" "),n("van-popup",{style:{height:"50%"},attrs:{"get-container":"body","close-icon":"close",position:"bottom"},model:{value:e.showTime,callback:function(t){e.showTime=t},expression:"showTime"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),n("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:e.showType,callback:function(t){e.showType=t},expression:"showType"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.columns1,"value-key":"content"},on:{cancel:function(t){e.showType=!1},confirm:e.confirm1}})],1)],1)},staticRenderFns:[]};var i=n("VU/8")(l,r,!1,function(e){n("kaCj")},"data-v-07d3e770",null);t.default=i.exports},kaCj:function(e,t,n){var o=n("e2ze");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("a171572e",o,!0,{})}});
//# sourceMappingURL=65.5c27a7d49b2a390e475e.js.map
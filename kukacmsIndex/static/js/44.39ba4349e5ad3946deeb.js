webpackJsonp([44],{"AE++":function(e,t,a){var n=a("fkm/");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("2efdbf68",n,!0,{})},"fkm/":function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\nbody[data-v-461ebc32] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-461ebc32] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-461ebc32] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-461ebc32] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-461ebc32] {\n  text-align: center;\n}","",{version:3,sources:["D:/员工自助/selfGive_mobile/src/views/personAffairs/addSocial.vue"],names:[],mappings:";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;CACb;AACD;EACE,mBAAmB;CACpB",file:"addSocial.vue",sourcesContent:["\nbody[data-v-461ebc32] {\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\n  -moz-user-select: text; /* Firefox all */\n  -ms-user-select: text; /* IE 10+ */\n  user-select: text;\n}\n.btn[data-v-461ebc32] {\n  padding: 10px;\n  text-align: center;\n}\n.uploadbtn[data-v-461ebc32] {\n  padding: 60px 10px 0 10px;\n}\n.uploadbtn .title[data-v-461ebc32] {\n  padding: 15px;\n  line-height: 20px;\n  color: #f00;\n}\n.upload-demo[data-v-461ebc32] {\n  text-align: center;\n}"],sourceRoot:""}])},zpbM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Fd2+"),i=a("6s/a"),o={data:function(){return{showPhoto:!1,images:[],showPopup:!1,pdf:"",pathName:"",fileList:[],uploadData:{jobnumber:"",state:""},path:"",saveId:"",showImg:!1,startTime:"",endTime:"",workUnit:"",department:"",station:"",witness:"",description:"",remarks:"",minDate:new Date(1980,0,1),maxDate:new Date(2030,10,1),currentDate:new Date,showTime:!1,timeFlag:""}},created:function(){},methods:{update:function(){var e=this;n.a.confirm({title:"提示",message:"确认提交？"}).then(function(){var t={workUnit:e.workUnit,department:e.department,station:e.station,witness:e.witness,description:e.description,startTime:e.startTime,endTime:e.endTime,remarks:e.remarks,jobnumber:localStorage.getItem("jobNum"),flag:2,id:e.saveId,filePath:e.path};e.startTime.split("-").join("")>e.endTime.split("-").join("")?Object(n.b)({type:"warning",message:"开始时间不得大于结束时间！"}):""==e.workUnit||""==e.department||""==e.station||""==e.witness||""==e.description||""==e.startTime||""==e.endTime?Object(n.b)({type:"danger",message:"您有必填写未填写，请填写后提交！"}):Object(i._2)(t).then(function(t){1e3==t.code?(Object(n.b)({type:"success",message:"已提交添加，进入待审核状态"}),e.$router.push({name:"socialExperience"})):Object(n.b)({type:"danger",message:"修改失败"})})}).catch(function(){Object(n.b)({type:"danger",message:"已取消修改"})})},backHome:function(){this.$router.push({name:"socialExperience"})},startTimeClick:function(){this.timeFlag=0,this.showTime=!0},endTimeClick:function(){this.timeFlag=1,this.showTime=!0},confirm:function(e){this.startTime.split("-").join("")>this.endTime.split("-").join("")&&(Object(n.b)({type:"warning",message:"开始时间不得大于结束时间！"}),this.endTime=""),1==this.timeFlag?this.endTime=this.formatDate(e):this.startTime=this.formatDate(e),this.showTime=!1},cancel:function(){this.showTime=!1},formatDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return t+"-"+a+"-"+(n=n<10?"0"+n:n)},dialogOpen:function(){this.showImg=!0},handleRemove2:function(e){var t=this,a={filePath:e.response.obj.path};Object(i.k)(a).then(function(e){1e3==e.code?t.pathName="":Object(n.b)({type:"danger",message:e.msg})})},handlePreview2:function(e){console.log(e)},handSuccess:function(e){1001==e.code&&Object(n.b)({type:"warning",message:e.msg}),this.path=e.obj.path,this.pathName=e.obj.pathName,this.saveId=e.obj.id},uploadWork:function(){this.uploadData.state=2,this.uploadData.jobnumber=localStorage.getItem("jobNum")},seePdf:function(){null==this.path||""==this.path?Object(n.b)({type:"danger",message:"没有附件可查看哦~"}):-1==this.path.indexOf("pdf")?(this.showPhoto=!0,this.images.push(this.path)):window.open(this.path)},onClose:function(){this.images=[]},showAlert8:function(){this.$createDialog({type:"alert",title:"提示",content:"负责/协助XXXX工作，在此期间取得XXX成果",icon:"cubeic-alert"}).show()}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("van-field",{attrs:{label:"开始时间：",readonly:"",placeholder:"必填"},on:{click:e.startTimeClick},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("van-field",{attrs:{label:"结束时间：",readonly:"",placeholder:"必填"},on:{click:e.endTimeClick},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),e._v(" "),a("van-field",{attrs:{label:"工作单位：",placeholder:"必填"},model:{value:e.workUnit,callback:function(t){e.workUnit=t},expression:"workUnit"}}),e._v(" "),a("van-field",{attrs:{label:"任职部门：",placeholder:"必填"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}}),e._v(" "),a("van-field",{attrs:{label:"任职岗位：",placeholder:"必填"},model:{value:e.station,callback:function(t){e.station=t},expression:"station"}}),e._v(" "),a("van-field",{attrs:{label:"证明人及电话：",placeholder:"必填"},model:{value:e.witness,callback:function(t){e.witness=t},expression:"witness"}}),e._v(" "),a("van-field",{attrs:{label:"工作内容描述：",rows:"1",autosize:"",type:"textarea",placeholder:"必填"},scopedSlots:e._u([{key:"button",fn:function(){return[a("i",{attrs:{size:"small",type:"primary"},on:{click:e.showAlert8}},[a("van-icon",{attrs:{name:"question-o",color:"red"}})],1)]},proxy:!0}]),model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("van-field",{attrs:{label:"备注：",placeholder:"选填"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}}),e._v(" "),a("p",{staticStyle:{padding:"10px 10px 10px 16px",color:"#323233","border-bottom":"1px solid #eee","font-size":"14px"}},[a("span",{staticStyle:{"padding-right":"5px"}},[e._v("请上传离职证明：")]),a("span",[a("van-button",{staticStyle:{"font-size":"12px",padding:"2px"},attrs:{type:"primary",color:"#ccc",size:"mini"},on:{click:e.dialogOpen}},[e._v("上传")])],1)]),e._v(" "),a("p",{staticStyle:{padding:"10px 10px 10px 16px",color:"#323233","border-bottom":"1px solid #eee","font-size":"14px","line-height":"25px"}},[a("span",{on:{click:e.seePdf}},[e._v("离职证明："),a("span",{staticStyle:{"border-bottom":"1px solid #ccc",padding:"2px"}},[e._v(e._s(e.pathName))])])]),e._v(" "),a("div",{staticClass:"btn"},[a("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.update}},[e._v("确认添加")]),e._v(" "),a("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:e.backHome}},[e._v("取消")])],1)],1),e._v(" "),a("van-popup",{style:{height:"50%"},attrs:{"get-container":"body","close-icon":"close",position:"bottom"},model:{value:e.showTime,callback:function(t){e.showTime=t},expression:"showTime"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.confirm,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{style:{height:"50%"},attrs:{"get-container":"body",closeable:"","close-icon":"close",position:"bottom"},model:{value:e.showImg,callback:function(t){e.showImg=t},expression:"showImg"}},[a("div",{staticClass:"uploadbtn"},[a("div",{staticClass:"title"},[e._v("（请上传离职证明，上传内容需为图片或PDF格式）")]),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"/kukacms/self/workinfo/uploadWorkFiles",data:e.uploadData,"on-preview":e.handlePreview2,"on-remove":e.handleRemove2,"on-success":e.handSuccess,multiple:"",limit:10,"file-list":e.fileList}},[a("el-button",{staticStyle:{background:"#fc5f10",border:"1px #fc5f10"},attrs:{size:"small",type:"primary"},on:{click:e.uploadWork}},[e._v("上传离职证明")])],1)],1)]),e._v(" "),a("van-popup",{style:{height:"90%"},attrs:{"get-container":"body",position:"top"},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[a("iframe",{attrs:{src:e.pdf,width:"100%",height:"100%"}})]),e._v(" "),a("van-image-preview",{attrs:{"get-container":"body",images:e.images,closeable:!0},on:{close:e.onClose},model:{value:e.showPhoto,callback:function(t){e.showPhoto=t},expression:"showPhoto"}})],1)},staticRenderFns:[]};var l=a("VU/8")(o,s,!1,function(e){a("AE++")},"data-v-461ebc32",null);t.default=l.exports}});
//# sourceMappingURL=44.39ba4349e5ad3946deeb.js.map
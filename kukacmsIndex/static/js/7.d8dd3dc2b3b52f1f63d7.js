webpackJsonp([7],{"2PYB":function(n,e,t){var a=t("tMbq");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("6c07dbb4",a,!0,{})},"9LjN":function(n,e,t){"use strict";var a=t("woOf"),s=t.n(a),r=(t("lMsh"),t("9R26")),o=t("Fd2+"),i={name:"chooseDepartment",props:{Farequired:{type:Boolean,default:!1},opennode:{type:Number},selectName:{type:String}},data:function(){return{deptData:[],selectedDepartment:"",showPickDept:!1,deptVal:"",props:{label:"content",children:"depts"},defaultProps:null,selectOrg:{orgsid:[]},reqireRule:[],deptPlacehoder:"请选择部门",openlist:[],onSelected:"",firstIn:1}},created:function(){this._getOrz(),this.Farequired&&(this.reqireRule=[{required:!0,message:"请选择部门"}],this.deptPlacehoder="必填"),this.selectedDepartment=this.selectName},mounted:function(){},methods:{_getOrz:function(){var n=JSON.parse(localStorage.getItem("departRes"));this.deptData.push(n.obj.departments)},pickDept:function(){var n=this;this.showPickDept=!0,this.$nextTick(function(){n.$refs.tree.setChecked({deptId:n.opennode},!0),n.openlist=[n.opennode]})},handleCheckChange:function(n,e,t){if(n.deptId!=this.onSelected){if(1===this.selectOrg.orgsid.length&&e){this.$refs.tree.setChecked(this.selectOrg.orgsid[0],!1),this.onSelected=this.selectOrg.orgsid[0].deptId,this.selectOrg.orgsid=[],this.selectOrg.orgsid.push(n);var a=s()({},n);this.mechanismPath(a),this.showPickDept=!1,Object(o.b)("选择成功")}else if(0===this.selectOrg.orgsid.length&&e){this.selectOrg.orgsid=[],this.selectOrg.orgsid.push(n);var r=s()({},n);this.mechanismPath(r),1==this.firstIn&&this.selectName?this.firstIn++:(this.showPickDept=!1,this.onSelected="",Object(o.b)("选择成功"))}else if(1===this.selectOrg.orgsid.length&&!e){this.transferData({content:"",deptId:""}),this.selectedDepartment="",this.selectOrg.orgsid=[],this.onSelected=""}}else this.onSelected=""},transferData:function(n){this.$emit("transferFa",n)},mechanismPath:function(n){var e=this,t={deptId:n.deptId};Object(r.d)(t).then(function(t){1e3==t.code?(n.content=t.obj,e.selectedDepartment=n.content,e.transferData(n)):Object(o.b)(t.msg)})}}},c={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("van-field",{attrs:{label:"团队所属机构：",placeholder:n.deptPlacehoder,rules:n.reqireRule,type:"textarea",readonly:""},on:{click:n.pickDept},model:{value:n.selectedDepartment,callback:function(e){n.selectedDepartment=e},expression:"selectedDepartment"}}),n._v(" "),t("van-popup",{style:{height:"70%"},attrs:{position:"top","get-container":"body",closeable:""},model:{value:n.showPickDept,callback:function(e){n.showPickDept=e},expression:"showPickDept"}},[t("el-tree",{ref:"tree",attrs:{data:n.deptData,"node-key":"deptId",props:n.props,"show-checkbox":"","check-strictly":!0,"default-expanded-keys":n.openlist},on:{"check-change":n.handleCheckChange}})],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,c,!1,function(n){t("pkKz")},null,null);e.a=l.exports},D8Dr:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"chooseDepartment.vue",sourceRoot:""}])},NMJ8:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Fd2+"),s=t("9LjN"),r=t("9R26"),o={components:{choosedepartment:s.a},data:function(){return{stepper:1,password:"",value:"",columns:["立即可用","一年可用","两年可用","三年可用"],showPicker:!1,addForm:{a8TDPYXX014:1,a8TDPYXX015:"",a8TDPYXX016:"",a8TDPYXX016name:"",a8TDPYXX017:"",a8TDPYXX018:"",a8TDPYXX018name:"",a8TDPYXX019:"",a8TDPYXX020:"",a8TDPYXX020name:"",a8TDPYXX013Name:"",a8TDPYXX013:""},selecttype:"",selectNametype:""}},created:function(){var n=this.$route.params.sData;this.addForm=n,this.addForm.a0190=localStorage.getItem("jobNum")},methods:{onConfirm:function(n){for(var e in this.addForm)if(e==this.selecttype){this.addForm[e]=n,this.addForm[this.selectNametype]=this.toolsProficiency(n);break}this.showPicker=!1},selctdept:function(n){this.addForm.a8TDPYXX013Name=n.content,this.addForm.a8TDPYXX013=n.deptId},backHome:function(){this.$router.push({name:"teamFoster"})},selectProficiency:function(n){this.selecttype=n,"a8TDPYXX016name"==n?this.selectNametype="a8TDPYXX016":"a8TDPYXX018name"==n?this.selectNametype="a8TDPYXX018":"a8TDPYXX020name"==n&&(this.selectNametype="a8TDPYXX020"),this.showPicker=!0},addTeam:function(){var n=this;this.addForm.flag=1,Object(r.e)(this.addForm).then(function(e){"1000"==e.code?Object(a.b)({type:"success",message:"修改成功"}):a.c.fail(e.msg),n.$router.push({name:"teamFoster"})})},toolsProficiency:function(n){switch(n){case"立即可用":return"01";case"一年可用":return"02";case"两年可用":return"03";case"三年可用":return"04";default:return!1}}}},i={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("van-form",{attrs:{"label-width":"100"},on:{submit:n.addTeam}},[t("van-field",{attrs:{name:"stepper",label:"团队规模:"},scopedSlots:n._u([{key:"input",fn:function(){return[t("van-stepper",{attrs:{integer:""},model:{value:n.addForm.a8TDPYXX014,callback:function(e){n.$set(n.addForm,"a8TDPYXX014",e)},expression:"addForm.a8TDPYXX014"}})]},proxy:!0}])}),n._v(" "),t("choosedepartment",{attrs:{Farequired:!0,opennode:n.addForm.a8TDPYXX013,selectName:n.addForm.a8TDPYXX013Name},on:{transferFa:n.selctdept}}),n._v(" "),t("van-field",{attrs:{name:"继任者1",label:"继任者1:",placeholder:"必填",rules:[{required:!0,message:"请填写继任者1"}]},model:{value:n.addForm.a8TDPYXX015,callback:function(e){n.$set(n.addForm,"a8TDPYXX015","string"==typeof e?e.trim():e)},expression:"addForm.a8TDPYXX015"}}),n._v(" "),t("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:n.addForm.a8TDPYXX016name,label:"继任者1成熟度:",placeholder:"必填",rules:[{required:!0,message:"请选择继任者1成熟度"}]},on:{click:function(e){return n.selectProficiency("a8TDPYXX016name")}}}),n._v(" "),t("van-field",{attrs:{name:"继任者2",label:"继任者2:",placeholder:"选填"},model:{value:n.addForm.a8TDPYXX017,callback:function(e){n.$set(n.addForm,"a8TDPYXX017","string"==typeof e?e.trim():e)},expression:"addForm.a8TDPYXX017"}}),n._v(" "),t("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:n.addForm.a8TDPYXX018name,label:"继任者2成熟度:",placeholder:"选填"},on:{click:function(e){return n.selectProficiency("a8TDPYXX018name")}}}),n._v(" "),t("van-field",{attrs:{name:"继任者3",label:"继任者3:",placeholder:"选填"},model:{value:n.addForm.a8TDPYXX019,callback:function(e){n.$set(n.addForm,"a8TDPYXX019","string"==typeof e?e.trim():e)},expression:"addForm.a8TDPYXX019"}}),n._v(" "),t("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:n.addForm.a8TDPYXX020name,label:"继任者3成熟度:",placeholder:"选填"},on:{click:function(e){return n.selectProficiency("a8TDPYXX020name")}}}),n._v(" "),t("van-popup",{attrs:{position:"bottom","get-container":"body"},model:{value:n.showPicker,callback:function(e){n.showPicker=e},expression:"showPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:n.columns},on:{confirm:n.onConfirm,cancel:function(e){n.showPicker=!1}}})],1),n._v(" "),t("div",{staticStyle:{"margin-top":"10px"}},[t("van-row",{attrs:{type:"flex",justify:"center"}},[t("van-col",{attrs:{span:"7"}},[t("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10","native-type":"submit"}},[n._v("确认修改")])],1),n._v(" "),t("van-col",{attrs:{span:"4"}},[t("van-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",size:"small",color:"#fc5f10"},on:{click:n.backHome}},[n._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=t("VU/8")(o,i,!1,function(n){t("2PYB")},null,null);e.default=c.exports},pkKz:function(n,e,t){var a=t("D8Dr");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("5614fe6b",a,!0,{})},tMbq:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"editTeamFoster.vue",sourceRoot:""}])}});
//# sourceMappingURL=7.d8dd3dc2b3b52f1f63d7.js.map
{"version":3,"sources":["webpack:///./src/views/personAffairs/updatePro.vue?d992","webpack:///src/views/personAffairs/updatePro.vue","webpack:///./src/views/personAffairs/updatePro.vue?386f","webpack:///./src/views/personAffairs/updatePro.vue","webpack:///./src/views/personAffairs/updatePro.vue?f1d1"],"names":["content","__webpack_require__","module","i","locals","exports","updatePro","data","lengthFlag","projectName","startTime","endTime","trjlzb","jobType","projectRole","projectProp","propCode","projectResult","minDate","Date","maxDate","currentDate","showTime","timeFlag","showType","columns1","created","this","initData","methods","update","_this","es","confirm","title","message","then","sendData","recordid","$route","params","zData","jobnumber","localStorage","getItem","flag","split","join","Object","type","getStr","api","res","code","$router","push","name","msg","catch","backHome","typeClick","confirm1","picker","_this2","zDatas","projectPropKey","obj","reset","str","replace","length","startTimeClick","endTimeClick","val","formatDate","cancel","date","y","getFullYear","m","getMonth","d","getDate","showAlert7","$createDialog","icon","show","showAlert8","showAlert9","personAffairs_updatePro","render","_vm","_h","$createElement","_c","_self","attrs","label","placeholder","model","value","callback","$$v","expression","_v","readonly","on","click","click-input","scopedSlots","_u","key","fn","size","color","proxy","autosize","staticClass","staticStyle","font-size","style","height","get-container","close-icon","position","min-date","max-date","round","show-toolbar","columns","value-key","$event","showXingzhi","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/54.14af3f7a59eb4b7d6c15.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a52addb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./updatePro.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"36c74caf\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2a52addb\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/updatePro.vue","<template>\r\n    <div>\r\n        <div>\r\n            <van-field v-model=\"projectName\" label=\"项目名称：\" placeholder=\"必填\"/>\r\n            <van-field v-model=\"startTime\" label=\"进入项目时间：\" @click=\"startTimeClick\" readonly placeholder=\"必填\"/>\r\n            <van-field v-model=\"endTime\" label=\"退出项目时间：\" @click-input=\"endTimeClick\" readonly placeholder=\"选填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"reset\"><van-icon name=\"close\" color=\"#ccc\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"trjlzb\" label=\"投入精力占比：\" placeholder=\"必填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert7\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"jobType\" label=\"任职类型：\" placeholder=\"必填\">\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert8\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model=\"projectRole\" label=\"项目角色：\" placeholder=\"必填\"/>\r\n            <van-field v-model=\"projectProp\" label=\"项目性质：\" placeholder=\"必填\" @click=\"typeClick\" readonly/>\r\n            <van-field v-model=\"projectResult\" label=\"项目成果：\" placeholder=\"只能输入500个字符、250个字（选填）\" type=\"textarea\" autosize>\r\n                <template #button>\r\n                    <i size=\"small\" type=\"primary\" @click=\"showAlert9\"><van-icon name=\"question-o\" color=\"red\"/></i>\r\n                </template>\r\n            </van-field>\r\n            <div class=\"btn\">\r\n                <van-button type=\"primary\" size=\"small\" color=\"#fc5f10\" @click=\"update\" style=\"font-size:16px\">确认修改</van-button>\r\n                <van-button type=\"primary\" size=\"small\" color=\"#fc5f10\" @click=\"backHome\" style=\"font-size:16px\">取消</van-button>\r\n            </div>\r\n        </div>\r\n        <!-- 弹出选择时间 -->\r\n        <van-popup\r\n        get-container=\"body\"\r\n        v-model=\"showTime\"\r\n        close-icon=\"close\"\r\n        position=\"bottom\"\r\n        :style=\"{ height: '50%' }\"\r\n        >\r\n            <van-datetime-picker\r\n            v-model=\"currentDate\"\r\n            type=\"date\"\r\n            :min-date=\"minDate\"\r\n            :max-date=\"maxDate\"\r\n            @confirm=\"confirm\"\r\n            @cancel=\"cancel\"\r\n            />\r\n        </van-popup>\r\n        <!-- 选择任职类型 -->\r\n        <van-popup v-model=\"showType\" round position=\"bottom\" get-container=\"body\">\r\n            <van-picker\r\n                show-toolbar\r\n                :columns=\"columns1\"\r\n                @cancel=\"showXingzhi = false\"\r\n                value-key=\"content\"\r\n                @confirm=\"confirm1\"\r\n            />\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Field,Button,DatetimePicker,Popup,Notify,Dialog } from 'vant'\r\nimport { getProType,updatePro } from './api'\r\nexport default {\r\n  data () {\r\n    return {\r\n        lengthFlag: true,\r\n        projectName: '', //项目名称\r\n        startTime: '',\r\n        endTime: '',\r\n        trjlzb: '', //投入精力占比\r\n        jobType: '', //任职类型\r\n        projectRole: '', //项目角色\r\n        projectProp: '', //项目性质\r\n        propCode: '', //传给后台类型值\r\n        projectResult: '', //项目成果\r\n        minDate: new Date(2010, 0, 1),\r\n        maxDate: new Date(2025, 10, 1),\r\n        currentDate: new Date(),\r\n        showTime: false,\r\n        timeFlag: '', //选择时间的标识\r\n        showType: false,\r\n        columns1: [],\r\n    };\r\n  },\r\n  created(){\r\n      this.initData()\r\n  },\r\n  methods:{\r\n    //提交确认修改\r\n    update(){\r\n        Dialog.confirm({\r\n            title: '提示',\r\n            message: '确认提交修改？'\r\n            }).then(() => {\r\n            // on confirm\r\n            // console.log(this.endTime)\r\n            let sendData = {\r\n                projectName:this.projectName,\r\n                startTime:this.startTime,\r\n                endTime:this.endTime,\r\n                trjlzb:this.trjlzb,\r\n                jobType:this.jobType,\r\n                projectRole:this.projectRole,\r\n                projectProp:this.propCode,\r\n                projectResult:this.projectResult,\r\n                recordid: this.$route.params.zData.recordid,\r\n                jobnumber: localStorage.getItem('jobNum'),\r\n                flag: 1,\r\n            }\r\n            if(this.endTime !== null){\r\n                let strStart = this.startTime.split('-').join('')\r\n                let strEnd = this.endTime.split('-').join('')\r\n                if(strStart>strEnd){\r\n                    Notify({ type: 'warning', message: '开始时间不得大于结束时间！' })\r\n                    return\r\n                }\r\n            }\r\n            \r\n            //判断项目成果字符长度\r\n            this.getStr(this.projectResult)\r\n            if(this.lengthFlag == false){\r\n                return\r\n            }\r\n            if(this.projectName == null || this.projectName == '' ||\r\n               this.trjlzb == null || this.trjlzb == '' ||\r\n               this.jobType == null || this.jobType == '' ||\r\n               this.projectRole == null || this.projectRole == '' ||\r\n               this.projectProp == null || this.projectProp == '' ||\r\n               this.startTime == null || this.startTime == '' ){\r\n                   Notify({ type: 'danger', message: '您有必填写未填写，请填写后提交！' })\r\n               }else{\r\n                   updatePro(sendData).then(res=>{\r\n                        if(res.code == 1000){\r\n                            Notify({ type: 'success', message: '已提交修改，进入待审核状态' })\r\n                            this.$router.push({name:'proExperience'})\r\n                        }else{\r\n                            Notify({ type: 'danger', message: res.msg })\r\n                        }\r\n                    })\r\n               }\r\n            }).catch(() => {\r\n            // on cancel\r\n            Notify({ type: 'danger', message: '已取消修改' })\r\n        })\r\n    },\r\n    //取消\r\n    backHome(){\r\n        this.$router.push({name:'proExperience'})\r\n    },\r\n    //打开项目性质弹窗\r\n    typeClick(){\r\n        this.showType = true\r\n    },\r\n    //确认选择\r\n    confirm1(picker){\r\n        this.propCode = picker.code\r\n        this.projectProp = picker.content\r\n        this.showType = false\r\n    },\r\n    //默认带进来的数据\r\n    initData(){\r\n        let zDatas = this.$route.params.zData\r\n        this.projectName = zDatas.projectName\r\n        this.startTime = zDatas.startTime\r\n        this.endTime = zDatas.endTime\r\n        this.trjlzb = zDatas.trjlzb\r\n        this.jobType = zDatas.jobType\r\n        this.projectRole = zDatas.projectRole\r\n        this.projectProp = zDatas.projectProp\r\n        this.projectResult = zDatas.projectResult\r\n        this.propCode = zDatas.projectPropKey //后台性质key值\r\n        //获取任职类型\r\n        getProType().then(res=>{\r\n            this.columns1 = res.obj\r\n        })\r\n    },\r\n    //清空退出项目时间\r\n    reset(){\r\n        this.endTime = ''\r\n    },\r\n    //字符串长度检测\r\n    getStr(str){\r\n        if (str == null) return 0;\r\n        if (typeof str != \"string\"){\r\n            str += \"\";\r\n        }\r\n        if(str.replace(/[^\\x00-\\xff]/g,\"01\").length > 500){\r\n            Notify({ type: 'warning', message: '项目成果不得大于500个字符！' })\r\n            return this.lengthFlag = false\r\n        }else{\r\n            return this.lengthFlag = true\r\n        }\r\n    },\r\n    //打开时间选择器\r\n    startTimeClick(){\r\n        this.timeFlag = 0\r\n        this.showTime = true\r\n    },\r\n    endTimeClick(){\r\n        this.timeFlag = 1\r\n        this.showTime = true\r\n    },\r\n    //确认选中时间\r\n    confirm(val){\r\n        if(this.timeFlag == 1){\r\n            this.endTime = this.formatDate(val)\r\n            let strStart = this.startTime.split('-').join('')\r\n            let strEnd = this.endTime.split('-').join('')\r\n            if(strStart>strEnd){\r\n                Notify({ type: 'warning', message: '开始时间不得大于结束时间！' })\r\n            // this.endTime = ''\r\n            }\r\n        }else{\r\n            this.startTime = this.formatDate(val)\r\n        }\r\n        this.showTime = false\r\n    },\r\n    //取消选择\r\n    cancel(){\r\n        this.showTime = false\r\n    },\r\n     //转换时间戳\r\n    formatDate(date) {    \r\n        var y = date.getFullYear();    \r\n        var m = date.getMonth() + 1;    m = m < 10 ? '0' + m : m;    \r\n        var d = date.getDate();    d = d < 10 ? ('0' + d) : d;       \r\n        return y + '-' + m + '-' + d \r\n    },\r\n    showAlert7() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '如60%，根据自身精力投入情况选择百分数',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n    showAlert8() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '选兼职或全职，二选一',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n    showAlert9() {\r\n      this.$createDialog({\r\n        type: 'alert',\r\n        title: '提示',\r\n        content: '填写定量化的项目目标达成情况',\r\n        icon: 'cubeic-alert'\r\n      }).show()\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n    .btn{\r\n        padding 10px\r\n        text-align center \r\n    }\r\n    .uploadbtn{\r\n        padding 60px 10px 0 10px\r\n        .title{\r\n            padding 15px\r\n            line-height 20px\r\n            color red\r\n        }\r\n    }\r\n    .upload-demo{\r\n        text-align center\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/personAffairs/updatePro.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('van-field',{attrs:{\"label\":\"项目名称：\",\"placeholder\":\"必填\"},model:{value:(_vm.projectName),callback:function ($$v) {_vm.projectName=$$v},expression:\"projectName\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"进入项目时间：\",\"readonly\":\"\",\"placeholder\":\"必填\"},on:{\"click\":_vm.startTimeClick},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"退出项目时间：\",\"readonly\":\"\",\"placeholder\":\"选填\"},on:{\"click-input\":_vm.endTimeClick},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_c('van-icon',{attrs:{\"name\":\"close\",\"color\":\"#ccc\"}})],1)]},proxy:true}]),model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"投入精力占比：\",\"placeholder\":\"必填\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert7}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.trjlzb),callback:function ($$v) {_vm.trjlzb=$$v},expression:\"trjlzb\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"任职类型：\",\"placeholder\":\"必填\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert8}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.jobType),callback:function ($$v) {_vm.jobType=$$v},expression:\"jobType\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目角色：\",\"placeholder\":\"必填\"},model:{value:(_vm.projectRole),callback:function ($$v) {_vm.projectRole=$$v},expression:\"projectRole\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目性质：\",\"placeholder\":\"必填\",\"readonly\":\"\"},on:{\"click\":_vm.typeClick},model:{value:(_vm.projectProp),callback:function ($$v) {_vm.projectProp=$$v},expression:\"projectProp\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"项目成果：\",\"placeholder\":\"只能输入500个字符、250个字（选填）\",\"type\":\"textarea\",\"autosize\":\"\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('i',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.showAlert9}},[_c('van-icon',{attrs:{\"name\":\"question-o\",\"color\":\"red\"}})],1)]},proxy:true}]),model:{value:(_vm.projectResult),callback:function ($$v) {_vm.projectResult=$$v},expression:\"projectResult\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('van-button',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"color\":\"#fc5f10\"},on:{\"click\":_vm.update}},[_vm._v(\"确认修改\")]),_vm._v(\" \"),_c('van-button',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"color\":\"#fc5f10\"},on:{\"click\":_vm.backHome}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('van-popup',{style:({ height: '50%' }),attrs:{\"get-container\":\"body\",\"close-icon\":\"close\",\"position\":\"bottom\"},model:{value:(_vm.showTime),callback:function ($$v) {_vm.showTime=$$v},expression:\"showTime\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_vm._v(\" \"),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\",\"get-container\":\"body\"},model:{value:(_vm.showType),callback:function ($$v) {_vm.showType=$$v},expression:\"showType\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns1,\"value-key\":\"content\"},on:{\"cancel\":function($event){_vm.showXingzhi = false},\"confirm\":_vm.confirm1}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a52addb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/personAffairs/updatePro.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a52addb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./updatePro.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./updatePro.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./updatePro.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a52addb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./updatePro.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a52addb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personAffairs/updatePro.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\nbody[data-v-2a52addb] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.btn[data-v-2a52addb] {\\n  padding: 10px;\\n  text-align: center;\\n}\\n.uploadbtn[data-v-2a52addb] {\\n  padding: 60px 10px 0 10px;\\n}\\n.uploadbtn .title[data-v-2a52addb] {\\n  padding: 15px;\\n  line-height: 20px;\\n  color: #f00;\\n}\\n.upload-demo[data-v-2a52addb] {\\n  text-align: center;\\n}\", \"\", {\"version\":3,\"sources\":[\"D:/员工自助/selfGive_mobile/src/views/personAffairs/updatePro.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;CACb;AACD;EACE,mBAAmB;CACpB\",\"file\":\"updatePro.vue\",\"sourcesContent\":[\"\\nbody[data-v-2a52addb] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.btn[data-v-2a52addb] {\\n  padding: 10px;\\n  text-align: center;\\n}\\n.uploadbtn[data-v-2a52addb] {\\n  padding: 60px 10px 0 10px;\\n}\\n.uploadbtn .title[data-v-2a52addb] {\\n  padding: 15px;\\n  line-height: 20px;\\n  color: #f00;\\n}\\n.upload-demo[data-v-2a52addb] {\\n  text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2a52addb\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/updatePro.vue\n// module id = tFI+\n// module chunks = 54"],"sourceRoot":""}
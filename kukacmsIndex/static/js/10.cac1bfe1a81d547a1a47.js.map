{"version":3,"sources":["webpack:///./src/views/personAffairs/searchWage.vue?b818","webpack:///./src/views/selfHome/api.js","webpack:///./src/views/personAffairs/searchWage.vue?815b","webpack:///src/views/personAffairs/searchWage.vue","webpack:///./src/views/personAffairs/searchWage.vue?8883","webpack:///./src/views/personAffairs/searchWage.vue"],"names":["content","__webpack_require__","module","i","locals","exports","queryData","fetch","url","method","data","qs","stringify","headers","content-type","dataType","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","searchWage","showKeyboard","value","personObj","placeholder","type","maxlength","eye","open","reverse","show","showNew","oldpsw","newpsw","newpassword","checkMa","codeMa","sendflag","sendflags","times","created","this","getPwd","getPerson","methods","_this","jobnumber","localStorage","getItem","Object","selfHome_api","then","res","obj","photo","undefined","search","_this2","RegExp","test","password","api","code","$router","name","params","loginData","es","message","alert","title","forget","confirm","rePassword","codeToken","cancel","send","_this3","phoneNumber","timer","setInterval","clearInterval","confirmNew","cancelNew","_this4","catch","onInput","key","slice","onDelete","length","personAffairs_searchWage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","alt","_v","_s","a0190","clearable","model","callback","$$v","expression","on","click","staticStyle","width","font-size","color","size","get-container","show-cancel-button","label","_e","safe-area-inset-bottom","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.cac1bfe1a81d547a1a47.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1652a03c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./searchWage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4ceae849\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1652a03c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/searchWage.vue","import fetch from '@/api/fetch.js'\r\nimport qs from 'qs'\r\n\r\n//获取首页头部个人信息\r\nexport function queryPerson (queryData) {\r\n  return fetch({\r\n    url: `/kukacms/self/findSomeBasicInfo`,\r\n    method: 'post',\r\n    data: qs.stringify(queryData)\r\n  })\r\n}\r\n//获取菜单\r\nexport function getMenu (queryData) {\r\n  return fetch({\r\n    url: `/kukacms/self/menu/listMenu`,\r\n    method: 'post',\r\n    data: qs.stringify(queryData)\r\n  })\r\n}\r\n//菜单排序\r\nexport function setMenu (queryData) {\r\n  return fetch({\r\n    url: `/kukacms/self/menu/saveMenuOrder`,\r\n    headers:{\"content-type\":\"application/json\"},\r\n    dataType: 'json',\r\n    method: 'post',\r\n    data: JSON.stringify(queryData)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/selfHome/api.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\nbody[data-v-1652a03c] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.sidebox[data-v-1652a03c] {\\n  position: relative;\\n  padding-top: 30%;\\n  height: 70vh;\\n}\\n.sidebox .imgs[data-v-1652a03c] {\\n  text-align: center;\\n}\\n.sidebox .imgs img[data-v-1652a03c] {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 50%;\\n}\\n.sidebox .imgs p[data-v-1652a03c] {\\n  padding-top: 5px;\\n}\\n.sidebox .inputs[data-v-1652a03c] {\\n  width: 70%;\\n  margin: 0 auto;\\n  padding-top: 10%;\\n}\\n.sidebox .forget[data-v-1652a03c] {\\n  padding-top: 10%;\\n  padding-right: 10px;\\n  color: #2e7cfb;\\n  text-align: right;\\n}\\n.sidebox .bottom[data-v-1652a03c] {\\n  width: 70%;\\n  margin: 8% auto;\\n}\\n.send[data-v-1652a03c] {\\n  text-align: center;\\n  padding: 10px;\\n  color: #2e7cfb;\\n}\\n.sends[data-v-1652a03c] {\\n  text-align: center;\\n  padding: 10px;\\n  color: #5f6368;\\n}\\n.van-cell[data-v-1652a03c] {\\n  border-bottom: 1px solid #ccc;\\n  margin-bottom: 10px;\\n  font-weight: 700;\\n}\", \"\", {\"version\":3,\"sources\":[\"D:/员工自助/selfGive_mobile/src/views/personAffairs/searchWage.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,0BAA0B,CAAC,sCAAsC;EACjE,uBAAuB,CAAC,iBAAiB;EACzC,sBAAsB,CAAC,YAAY;EACnC,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,WAAW;EACX,eAAe;EACf,iBAAiB;CAClB;AACD;EACE,iBAAiB;EACjB,oBAAoB;EACpB,eAAe;EACf,kBAAkB;CACnB;AACD;EACE,WAAW;EACX,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,cAAc;EACd,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,cAAc;EACd,eAAe;CAChB;AACD;EACE,8BAA8B;EAC9B,oBAAoB;EACpB,iBAAiB;CAClB\",\"file\":\"searchWage.vue\",\"sourcesContent\":[\"\\nbody[data-v-1652a03c] {\\n  -webkit-user-select: text; /* Chrome all / Safari all /opera15+*/\\n  -moz-user-select: text; /* Firefox all */\\n  -ms-user-select: text; /* IE 10+ */\\n  user-select: text;\\n}\\n.sidebox[data-v-1652a03c] {\\n  position: relative;\\n  padding-top: 30%;\\n  height: 70vh;\\n}\\n.sidebox .imgs[data-v-1652a03c] {\\n  text-align: center;\\n}\\n.sidebox .imgs img[data-v-1652a03c] {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 50%;\\n}\\n.sidebox .imgs p[data-v-1652a03c] {\\n  padding-top: 5px;\\n}\\n.sidebox .inputs[data-v-1652a03c] {\\n  width: 70%;\\n  margin: 0 auto;\\n  padding-top: 10%;\\n}\\n.sidebox .forget[data-v-1652a03c] {\\n  padding-top: 10%;\\n  padding-right: 10px;\\n  color: #2e7cfb;\\n  text-align: right;\\n}\\n.sidebox .bottom[data-v-1652a03c] {\\n  width: 70%;\\n  margin: 8% auto;\\n}\\n.send[data-v-1652a03c] {\\n  text-align: center;\\n  padding: 10px;\\n  color: #2e7cfb;\\n}\\n.sends[data-v-1652a03c] {\\n  text-align: center;\\n  padding: 10px;\\n  color: #5f6368;\\n}\\n.van-cell[data-v-1652a03c] {\\n  border-bottom: 1px solid #ccc;\\n  margin-bottom: 10px;\\n  font-weight: 700;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1652a03c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"resolve url\":true,\"import\":[\"D://员工自助//selfGive_mobile//src//theme\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/personAffairs/searchWage.vue\n// module id = idzF\n// module chunks = 10","<template>\r\n    <div>\r\n        <div class=\"sidebox\">\r\n            <div class=\"imgs\">\r\n                <img :src=\"personObj.photo\" alt=\"\">\r\n                <p>{{personObj.a0190}}</p>\r\n            </div>\r\n            <div class=\"inputs\">\r\n                <!-- <van-field v-model=\"value\" type=\"password\" clearable placeholder=\"请输入6位数密码\" /> -->\r\n                <cube-input \r\n                v-model=\"value\"  \r\n                placeholder=\"请输入6位数字密码\"\r\n                :maxlength=\"maxlength\"\r\n                 :eye=\"eye\"\r\n                 :type=\"type\"\r\n                 clearable>\r\n                </cube-input>\r\n            </div>\r\n            <div class=\"forget\"><span @click=\"forget\">忘记密码？</span></div>\r\n            <div class=\"bottom\">\r\n                <van-button type=\"primary\" class=\"btn\" color=\"#fc5f10\" size=\"small\" style=\"width:100%;font-size:16px\" @click=\"search\">查 询</van-button>\r\n            </div>\r\n        </div>\r\n        <!-- 忘记密码的弹窗 -->\r\n        <van-dialog\r\n        get-container=\"body\"\r\n        v-model=\"show\" \r\n        title=\"修改密码\" \r\n        show-cancel-button\r\n        @confirm=\"confirm\"\r\n        @cancel=\"cancel\">\r\n            <van-field v-model=\"oldpsw\" maxlength=\"6\" type=\"password\" label=\"新密码\" placeholder=\"请输入6位数字密码\"/>\r\n            <van-field v-model=\"newpsw\" maxlength=\"6\" type=\"password\" label=\"确认密码\" placeholder=\"请确认密码\"/>\r\n            <van-field v-model=\"checkMa\" type=\"text\" label=\"验证码\" placeholder=\"请输入验证码\"/>\r\n            <p class=\"send\" @click=\"send\" v-if=\"sendflag\">点击发送验证码</p>\r\n            <!-- 点击发送验证码后显示的等待内容 -->\r\n            <p class=\"sends\" v-if=\"!sendflag\">验证码已发送~请稍等<span style=\"color:#f00\">{{ times }}</span>秒</p>\r\n        </van-dialog>\r\n        \r\n        <!-- 新用户首次登陆注册的弹窗 -->\r\n        <van-dialog \r\n        get-container=\"body\"\r\n        :safe-area-inset-bottom=\"false\"\r\n        v-model=\"showNew\" \r\n        title=\"设置密码\" \r\n        show-cancel-button\r\n        @confirm=\"confirmNew\"\r\n        @cancel=\"cancelNew\">\r\n            <van-field size=\"large\" v-model=\"newpassword\" maxlength=\"6\" type=\"password\" label=\"新密码：\" placeholder=\"请输入6位数字密码\"/>\r\n            <!-- <p class=\"send\" @click=\"sendNew\">点击发送验证码</p> -->\r\n        </van-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Button,Field,Dialog,Notify } from 'vant'\r\nimport { checkPwd,setPwd,login,resetPwd,sendCode,PasswordInput, NumberKeyboard } from './api.js'\r\nimport { queryPerson } from '../selfHome/api'\r\nexport default {\r\n  data () {\r\n    return {\r\n        showKeyboard: true, //密码框\r\n        value: '',\r\n        personObj: {}, //人员基本信息获取\r\n        placeholder: '请输入内容',\r\n        type: 'password',\r\n        maxlength:6,\r\n        eye: {\r\n            open: true,\r\n            reverse: true\r\n        },\r\n        show: false,  //忘记密码弹窗\r\n        showNew: false,  //新用户注册弹窗\r\n        oldpsw: '',\r\n        newpsw: '', //忘记密码\r\n        newpassword: '', //新用户注册密码\r\n        checkMa: '', //验证码\r\n        codeMa: '', //手机发送过来的验证码\r\n        sendflag: true, //验证码发送过后的显示等待\r\n        sendflags: false, //验证码发送过后的显示等待,\r\n        times: 60\r\n    }\r\n  },\r\n  created(){\r\n    this.getPwd()\r\n    this.getPerson()\r\n  },\r\n  methods:{\r\n    //个人信息\r\n    //获取用户基本信息\r\n    getPerson(){\r\n      let queryData = {\r\n        jobnumber:localStorage.getItem('jobNum')\r\n      }\r\n      queryPerson(queryData).then(res=>{\r\n        // console.log(res.obj.photo)\r\n        if(res.obj.photo == null || res.obj.photo == undefined || res.obj.photo == ''){\r\n          res.obj.photo = require('@/assets/timg.jpg')\r\n          this.personObj = res.obj\r\n        }else{\r\n          this.personObj = res.obj\r\n        }\r\n      })\r\n    },\r\n    //查询工资\r\n    search(){\r\n        var reg = new RegExp(\"^[0-9]*$\");\r\n        if(!reg.test(this.value)){\r\n            // Notify({ type: 'danger', message: '请输入数字密码！' });\r\n            Dialog.alert({\r\n                title: '提示',\r\n                message: '请输入数字密码！',\r\n            }).then(() => {\r\n            // on close\r\n            })\r\n        }else{\r\n            let queryData = {\r\n                jobnumber:localStorage.getItem('jobNum'),\r\n                password: this.value\r\n            }\r\n            login(queryData).then(res=>{\r\n                if(res.code == 1000){\r\n                    this.$router.push({name:'searchWageInfo',params:{'loginData':this.value}})\r\n                }else{\r\n                    Notify({ type: 'danger', message: '密码错误哦！' });\r\n                }\r\n            })\r\n        }\r\n    },\r\n    //忘记密码\r\n    forget(){\r\n        this.show = true\r\n    },\r\n    //确认修改密码\r\n    confirm(){\r\n        if(this.oldpsw !== this.newpsw){\r\n            Notify({ type: 'danger', message: '密码不一致！' });\r\n        }else{\r\n            let queryData = {\r\n                jobnumber:localStorage.getItem('jobNum'),\r\n                password:this.oldpsw,\r\n                rePassword:this.newpsw,\r\n                code:this.checkMa,\r\n                codeToken:this.codeMa\r\n            }\r\n            resetPwd(queryData).then(res=>{\r\n\r\n            })\r\n        }\r\n    },\r\n    //取消修改密码\r\n    cancel(){\r\n\r\n    },\r\n    //发送验证码\r\n    send(){\r\n        if(this.oldpsw !== this.newpsw){\r\n            Notify({ type: 'danger', message: '密码不一致！' });\r\n        }else{\r\n            this.sendflag = false\r\n            let queryData = {\r\n                phoneNumber:localStorage.getItem('telNum')\r\n            }\r\n            sendCode(queryData).then(res=>{\r\n                this.codeMa = res.obj\r\n            })\r\n            //定时器\r\n            this.timer = setInterval(()=>{\r\n                this.times--\r\n                if(this.times===0){\r\n                this.sendflag = true\r\n                clearInterval(this.timer)\r\n                }\r\n            },1000)\r\n        }\r\n    },\r\n    //确认设置新密码\r\n    confirmNew(){\r\n        if(this.newpassword == ''){\r\n            this.getPwd()\r\n        }else{\r\n            let queryData = {\r\n                jobnumber:localStorage.getItem('jobNum'),\r\n                password:this.newpassword\r\n            }\r\n            setPwd(queryData).then(res=>{\r\n                if(res.code == 1000){\r\n                    Notify({ type: 'success', message: '设置密码成功！' });\r\n                }else{\r\n                    Notify({ type: 'danger', message: '设置密码失败！' });\r\n                }\r\n            })\r\n        }\r\n    },\r\n    //取消注册\r\n    cancelNew(){\r\n        this.$router.push({name:'selfHome'})\r\n    },\r\n    //登陆进来判断用户有无密码\r\n    getPwd(){\r\n        let queryData = {\r\n            jobnumber:localStorage.getItem('jobNum')\r\n        }\r\n        checkPwd(queryData).then(res=>{\r\n            if(res.code == 1000){\r\n                return\r\n            }else{\r\n                Dialog.confirm({\r\n                    title: '提示',\r\n                    message: '您需要设置登陆密码哦！'\r\n                    }).then(() => {\r\n                        this.showNew = true\r\n                    }).catch(() => {\r\n                    // on cancel\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //密码弹出键盘\r\n    onInput(key) {\r\n      this.value = (this.value + key).slice(0, 6);\r\n    },\r\n    onDelete() {\r\n      this.value = this.value.slice(0, this.value.length - 1);\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n    .sidebox{\r\n        position relative\r\n        padding-top 30%\r\n        height 70vh\r\n        .imgs{\r\n            text-align center\r\n            img{\r\n                width 100px\r\n                height 100px\r\n                border-radius 50%\r\n            }\r\n            p{\r\n                padding-top 5px\r\n            }\r\n        }\r\n        .inputs{\r\n            width 70%\r\n            margin 0 auto\r\n            padding-top 10%\r\n        }\r\n        .forget{\r\n            padding-top 10%\r\n            padding-right 10px\r\n            color #2e7cfb\r\n            text-align right\r\n        }\r\n        .bottom{\r\n            // padding-top 15%\r\n            // padding-bottom 20%\r\n            width 70%\r\n            margin 8% auto\r\n        }\r\n    }\r\n    .send{\r\n        text-align center\r\n        padding 10px\r\n        color #2e7cfb\r\n    }\r\n    .sends{\r\n        text-align center\r\n        padding 10px\r\n        color #5f6368\r\n    }\r\n    .van-cell{\r\n        border-bottom 1px solid #ccc\r\n        margin-bottom 10px\r\n        font-weight 700\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/personAffairs/searchWage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"sidebox\"},[_c('div',{staticClass:\"imgs\"},[_c('img',{attrs:{\"src\":_vm.personObj.photo,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.personObj.a0190))])]),_vm._v(\" \"),_c('div',{staticClass:\"inputs\"},[_c('cube-input',{attrs:{\"placeholder\":\"请输入6位数字密码\",\"maxlength\":_vm.maxlength,\"eye\":_vm.eye,\"type\":_vm.type,\"clearable\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"forget\"},[_c('span',{on:{\"click\":_vm.forget}},[_vm._v(\"忘记密码？\")])]),_vm._v(\" \"),_c('div',{staticClass:\"bottom\"},[_c('van-button',{staticClass:\"btn\",staticStyle:{\"width\":\"100%\",\"font-size\":\"16px\"},attrs:{\"type\":\"primary\",\"color\":\"#fc5f10\",\"size\":\"small\"},on:{\"click\":_vm.search}},[_vm._v(\"查 询\")])],1)]),_vm._v(\" \"),_c('van-dialog',{attrs:{\"get-container\":\"body\",\"title\":\"修改密码\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-field',{attrs:{\"maxlength\":\"6\",\"type\":\"password\",\"label\":\"新密码\",\"placeholder\":\"请输入6位数字密码\"},model:{value:(_vm.oldpsw),callback:function ($$v) {_vm.oldpsw=$$v},expression:\"oldpsw\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"maxlength\":\"6\",\"type\":\"password\",\"label\":\"确认密码\",\"placeholder\":\"请确认密码\"},model:{value:(_vm.newpsw),callback:function ($$v) {_vm.newpsw=$$v},expression:\"newpsw\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"验证码\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.checkMa),callback:function ($$v) {_vm.checkMa=$$v},expression:\"checkMa\"}}),_vm._v(\" \"),(_vm.sendflag)?_c('p',{staticClass:\"send\",on:{\"click\":_vm.send}},[_vm._v(\"点击发送验证码\")]):_vm._e(),_vm._v(\" \"),(!_vm.sendflag)?_c('p',{staticClass:\"sends\"},[_vm._v(\"验证码已发送~请稍等\"),_c('span',{staticStyle:{\"color\":\"#f00\"}},[_vm._v(_vm._s(_vm.times))]),_vm._v(\"秒\")]):_vm._e()],1),_vm._v(\" \"),_c('van-dialog',{attrs:{\"get-container\":\"body\",\"safe-area-inset-bottom\":false,\"title\":\"设置密码\",\"show-cancel-button\":\"\"},on:{\"confirm\":_vm.confirmNew,\"cancel\":_vm.cancelNew},model:{value:(_vm.showNew),callback:function ($$v) {_vm.showNew=$$v},expression:\"showNew\"}},[_c('van-field',{attrs:{\"size\":\"large\",\"maxlength\":\"6\",\"type\":\"password\",\"label\":\"新密码：\",\"placeholder\":\"请输入6位数字密码\"},model:{value:(_vm.newpassword),callback:function ($$v) {_vm.newpassword=$$v},expression:\"newpassword\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1652a03c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/personAffairs/searchWage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1652a03c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"D:\\\\\\\\员工自助\\\\\\\\selfGive_mobile\\\\\\\\src\\\\\\\\theme\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./searchWage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchWage.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchWage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1652a03c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./searchWage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1652a03c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personAffairs/searchWage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}